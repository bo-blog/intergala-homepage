<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FLOWTHEORY</title>
    <link href="images/style.css" type="text/css" rel="stylesheet" />
    <link href="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-y/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="images/vue.min.js"></script>
</head>
<body>
<div id="app">
    <header class="outer font-body header-block" id="navigation">
        <nav class="inner flex-wrap navigation">
            <div class="formal logo"><img src="images/logo.png" alt="FLOWTHEORY"></div>
            <div class="ts-l font-title nav-bar" :class="{'show-menu': isMenuDisplayed}">
                <ul class="flex-wrap nav-menu">
                    <li class="formal nav-active"><span class="fa fa-home icon"></span>首页</li>
                    <li class="formal"><a href="product.html"><span class="fa fa-snowflake-o icon"></span>产品</a></li>
                    <li class="formal" @click="moveTo('purchase')"><a href="##"><span class="fa fa-shopping-cart icon"></span>购买</a></li>
                    <li class="formal"><a href="#"><span class="fa fa-envelope icon"></span>联系</a></li>
                </ul>
            </div>
            <div class="nav-btn formal" @click="isMenuDisplayed = !isMenuDisplayed"><span class="fa fa-bars icon ts-l"></span>MENU</div>
        </nav>
        
        <div class="hero-container flex-wrap" :style="{'margin-left': heroLeft}">
            <div class="hero" id="hero1" style="background-image: url('images/hero-1.jpg')">
                <div class="headline inner ts-xl heavy">
                    关于 FLOWTHEORY
                    <div><div class="title-btn ts-l" @click="moveTo('brand')">了解更多</div></div>
                </div>
            </div>
            <div class="hero" id="hero2" style="background-image: url('images/hero-2.jpg')">
                <div class="headline inner ts-xl heavy">
                    FLOWTHEORY 滑雪眼镜系列
                    <div><div class="title-btn ts-l" @click="open(1)">了解更多</div></div>
                </div>
            </div>
            <div class="hero" id="hero3" style="background-image: url('images/hero-3.jpg')">
                <div class="headline inner ts-xl heavy">
                    <span class="hilite">FLOWTHEORY 雪服雪裤系列</span>
                    <div><div class="title-btn ts-l" @click="open(6)">了解更多</div></div>
                </div>
            </div>
        </div>
        <div class="hero-switcher">
            <div class="hero-switcher-item" :class="{'active-hero': hero.h1}" @click="switchTo(1, true)"></div>
            <div class="hero-switcher-item" :class="{'active-hero': hero.h2}" @click="switchTo(2, true)"></div>
            <div class="hero-switcher-item" :class="{'active-hero': hero.h3}" @click="switchTo(3, true)"></div>
        </div>
    </header>
    
    <section class="outer font-body" id="brand">
        <div class="sec-block brand-block">
            <div class="ts-xl heavy hilite"><span class="logo-lead"></span> 品牌故事</div>
            <div class="ts-r spacing textbook formal">FLOWTHEORY 由更为亚洲人考量的中日设计师团队共同研发，<br>融合新兴灵感元素和创新科技，<br>旨在为滑雪爱好者们带来极具创造性的高品质滑雪装备。<br>致力于让每一位捕风
                追雪的态度玩家，<br>追随自我最纯粹的热爱，<br>尽享滑雪运动赋予的心潮澎漭，<br>找到属于自己的心流状态。<br><br>
                Go with the FLOW.<br>
                Stand with your THEORY!<br>
                以自我为势，随风雪尽兴！
            </div>
            <div><div class="title-btn ts-s" onclick="window.location='product.html'">我们的产品 <span class="fa fa-chevron-right icon"></span></div></div>
        </div>
    </section>

    <section class="outer font-body">
        <div class="sec-block top-round-fix">
            <div class="ts-xl heavy hilite"><span class="logo-lead"></span> 产品系列</div>
            <div class="scroller flex-wrap">
                <div class="scroll-btn" @click="scrollHorizontal('left')" :style="{'opacity': scrollLeftVisible}"><span class="fa fa-chevron-left"></span></div>
                <div class="scroll-btn" @click="scrollHorizontal('right')":style="{'opacity': scrollRightVisible}"><span class="fa fa-chevron-right"></span></div>
            </div>
            <div class="carousel-container spacing">
                <div class="flex-wrap flex-spaced spacing carousel" :style="{'margin-left': scrollPositionX+'px'}">
                    <div class="gallery carousel-item" style="background-image: url('images/cat-1.jpg')" @click="open(1)">
                        <div class="gallery-text">
                            <div class="gallery-subtitle ts-s">滑雪眼镜</div>
                            <div class="gallery-headline ts-l">纯视系列</div>
                            <div class="gallery-body ts-s">二代柱面双层 •大视野滑雪镜</div>
                        </div>
                    </div>
                    <div class="gallery carousel-item" style="background-image: url('images/cat-2.jpg')" @click="open(4)">
                        <div class="gallery-text">
                            <div class="gallery-subtitle ts-s">滑雪眼镜</div>
                            <div class="gallery-headline ts-l">霓虹精工设计师系列</div>
                            <div class="gallery-body ts-s">多重创新磁吸科技 匠心工艺 为热爱而生</div>
                        </div>
                    </div>
                    <div class="gallery carousel-item" style="background-image: url('images/cat-3.jpg')" @click="open(7)">
                        <div class="gallery-text">
                            <div class="gallery-subtitle ts-s">雪服雪裤</div>
                            <div class="gallery-headline ts-l">日本原设 | 初心背带裤系列</div>
                            <div class="gallery-body ts-s">岂止颜值 品质更突出</div> 
                        </div>
                    </div>
                    <div class="gallery carousel-item" style="background-image: url('images/cat-4.jpg')" @click="open(6)">
                        <div class="gallery-text">
                            <div class="gallery-subtitle ts-s">雪服雪裤</div>
                            <div class="gallery-headline ts-l">日本原设 | 初心系列</div>
                            <div class="gallery-body ts-s">岂止颜值 品质更突出</div> 
                        </div>
                    </div>
                    <div class="gallery carousel-item" style="background-image: url('images/cat-5.jpg')" @click="open(8)">
                        <div class="gallery-text">
                            <div class="gallery-subtitle ts-s">雪服雪裤</div>
                            <div class="gallery-headline ts-l">日本原设 | 初心雪裤系列</div>
                            <div class="gallery-body ts-s">岂止颜值 品质更突出</div> 
                        </div>
                    </div>
                    <div class="gallery carousel-item" style="background-image: url('images/cat-6.jpg')" @click="open(9)">
                        <div class="gallery-text">
                            <div class="gallery-subtitle ts-s">滑雪配件</div>
                            <div class="gallery-headline ts-l">多功能滑雪护臀套装</div>
                            <div class="gallery-body ts-s">加强防护 男女通用</div> 
                        </div>
                    </div>
                    <div class="gallery carousel-item" style="background-image: url('images/cat-7.jpg')" @click="open(10)">
                        <div class="gallery-text">
                            <div class="gallery-subtitle ts-s">滑雪配件</div>
                            <div class="gallery-headline ts-l">滑雪护脸保暖头套</div>
                            <div class="gallery-body ts-s">亲肤舒适 透气排汗</div> 
                        </div>
                    </div>
                    <div class="gallery carousel-item" style="background-image: url('images/cat-8.jpg')" @click="open(0)">
                        <div class="gallery-text">
                            <div class="gallery-subtitle ts-s">FLOWTHEORY</div>
                            <div class="gallery-headline ts-l">更多产品</div>
                            <div class="gallery-body ts-s">点击了解</div> 
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="outer font-body" id="purchase">
        <div class="sec-block sec-block">
            <div class="ts-xl heavy hilite"><span class="logo-lead"></span> 如何购买</div>
            <div class="flex-wrap flex-spaced qr-tile">
                <div class="centered">
                    <img src="images/qr-tmall.png" alt="Tmall" class="qr">
                    <div class="title-btn ts-s" @click="document.location='https://flowtheoryyd.tmall.com/'">天猫旗舰店</div>
                </div>
                <div class="centered">
                    <img src="images/QR-placeholder.png" alt="Weidian" class="qr">
                    <div class="title-btn ts-s">微信商城</div>
                </div>
            </div>
        </div>
    </section>

    <footer class="outer font-body">
        <div class="sec-block footer-block">
            <div class="ts-xs spacing textbook formal"><a href="##"><span @click="moveTo('navigation')">^ 返回顶部</span></a><br><br>&copy; FLOWTHEORY 2022<br>
                沪ICP备XXXXXX号
            </div>
        </div>
    </footer>
</div>

<script>
    var app = new Vue({
      el: "#app",
      data: {
          scrollPositionX: 0,
          scrollRange: 310,
          scrollCounter: 8,
          scrollMax: 0,
          scrollMin: 0,
          wrapperWidth: 0.8,
          scrollLeftVisible: 0,
          scrollRightVisible: 0.8,
          hero: {
              h1: true, 
              h2: false,
              h3: false
          },
          activeHeroID: 1,
          heroLeft: 0,
          heroAutoSwtichInterval: 8,
          stopAutoSwitch: false,
          isMenuDisplayed: false
      },
      mounted() {
        window.onresize = this.scrollMaker
        this.scrollMaker()
        setInterval(this.autoSwitch, this.heroAutoSwtichInterval * 1000)
      },
      methods: {
          scrollMaker() {
            this.scrollPositionX = 0
            this.scrollLeftVisible = 0
            this.scrollRightVisible = 0.8
            let viewWidth = document.documentElement.clientWidth
            let padding = viewWidth * (1 - this.wrapperWidth) / 2
            this.scrollMin = (this.scrollCounter * this.scrollRange - this.scrollRange - (padding + viewWidth * this.wrapperWidth - this.scrollRange)) * -1 - padding + 10
          },
          scrollHorizontal(direction) {
              let changes = direction == 'right' ? -1 : 1
              let newX = this.scrollPositionX + changes * this.scrollRange
              //console.log (newX)
              if (newX <= this.scrollMin) {
                this.scrollPositionX = this.scrollMin
                this.scrollRightVisible = 0
              } 
              else if (newX >= this.scrollMax) {
                this.scrollPositionX = this.scrollMax
                this.scrollLeftVisible = 0
              }
              else {
                this.scrollPositionX = newX
                this.scrollRightVisible = 0.8
                this.scrollLeftVisible = 0.8
              }
              //console.log(this.scrollPositionX)
          },
          moveTo(divID) {
            document.getElementById(divID).scrollIntoView({
                behavior: "smooth"
            })
          },
          switchTo(heroID, stopAuto) {
              let trueHeroID = 'h'+heroID
              this.hero[trueHeroID] = true
              this.hero["h"+this.activeHeroID] = false
              this.activeHeroID = heroID
              this.heroLeft = (heroID - 1) * -100 + 'vw'
              if (stopAuto) {
                  this.stopAutoSwitch = true
              }
          },
          autoSwitch() {
              if (!this.stopAutoSwitch) {
                let toHeroID = this.activeHeroID == 3 ? 1 : this.activeHeroID + 1
                this.switchTo(toHeroID, false)
              }
          },
          open(cateID) {
              if (cateID == 0) {
                  window.location = "product.html"
              }
              else {
                  window.location = "product.html#category_" + cateID
              }
          }
      }
    })
</script>

</body>
</html>
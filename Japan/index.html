<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" id="daylight" href="style.css">
    <title>Japan Photo Picks</title>
    <script src="definition.js"></script>
</head>
<body>
    <div id="headline">
        Photo Picks @Japan
    </div>
    <div id="nav-tile">
        <div id="pic-rolls">
        </div>
    </div>
    <div id="footer">
        &copy;Bob | <a href="https://www.bobshen.com">Home</a>
    </div>
    <div id="lightbox">
        <div id="picture-box">
            <div class="desc"><span id="description"></span></div>
        </div>
        <div id="left" class="buttons" onclick="goLeft()">❮</div>
        <div id="right" class="buttons" onclick="goRight()">❯</div>
        <div id="close" class="buttons" onclick="closePic()">✕</div>
    </div>
    <script>
        var lightbox = document.querySelector("#lightbox")
        var picture = document.querySelector("#picture-box")
        var description = document.querySelector("#description")
        var currentNum = 1

        var totalImgs = descTitle.length - 1

        var picGroup = ""
        for (var i = 1; i <= totalImgs; i++) {
            picGroup += `
            <div class="thumbnail" style="background-image: url(thumb/p${i}.jpg);" onclick="showPic(${i})"></div>
            `
        }
        document.querySelector("#pic-rolls").innerHTML = picGroup
        
        var preloader = new Array()

        function showPic(num) {
            window.scrollTo({ top: 0, behavior: 'smooth' })
            currentNum = num
            lightbox.style.top = 0
            picture.style.filter = "grayscale(0)"
            picture.style.backgroundImage = `url("photo/p${num}.jpg")`
            description.innerHTML = descTitle[num]
            if (num == totalImgs) {
                document.getElementById("right").style.display = "none"
            }
            else {
                if (!preloader[num + 1]) {
                    preloader[num + 1] = new Image()
                    preloader[num + 1].src = `photo/p${num + 1}.jpg`
                }
                document.getElementById("right").style.display = "block"
            }
            if (num == 1) {
                document.getElementById("left").style.display = "none"
            }
            else {
                if (!preloader[num - 1]) {
                    preloader[num - 1] = new Image()
                    preloader[num - 1].src = `photo/p${num - 1}.jpg`
                }
                document.getElementById("left").style.display = "block"
            }
            document.body.style.overflowY = "hidden"
        }

        function closePic() {
            lightbox.style.top = "-100vh"
            document.body.style.overflowY = "auto"
        }

        function goLeft() {
            if (currentNum > 1) {
                picture.style.filter = "grayscale(0.3)"
                currentNum--
                showPic(currentNum)
            }
        }

        function goRight() {
            if (currentNum < totalImgs) {
                picture.style.filter = "grayscale(0.3)"
                currentNum++
                showPic(currentNum)
            }
        }
    </script>
</body>
</html>